parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"7QCb":[function(require,module,exports) {
var e=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(l,s){function o(e){try{r(a.next(e))}catch(t){s(t)}}function i(e){try{r(a.throw(e))}catch(t){s(t)}}function r(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,i)}r((a=a.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,a,l,s,o={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(l=2&s[0]?a.return:s[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,s[1])).done)return l;switch(a=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,a=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(l=(l=o.trys).length>0&&l[l.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){o.label=s[1];break}if(6===s[0]&&o.label<l[1]){o.label=l[1],l=s;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(s);break}l[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(i){s=[6,i],a=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},n={tooShort:"URL too short (at least 3 characters)",allreadyUsed:"This URL is allready in use ðŸ˜’",unacceptableChars:"Only use the chars a-z, A-Z, 0-9, -, _"};window.onload=function(){console.log("TS for shortyRS loaded."),document.getElementById("url-prefix").textContent=location.host+"/";var a=document.getElementById("long-url"),l=document.getElementById("long-validity-message");a.oninput=function(){return e(this,void 0,void 0,function(){var e,n,s;return t(this,function(t){switch(t.label){case 0:return 0==(e=a.value).length?(a.classList.remove("valid","invalid"),l.style.display="none",[2]):[4,fetch("/free?long="+e)];case 1:return 200==(n=t.sent()).status?[3,3]:(a.classList.add("invalid"),a.classList.remove("valid"),l.style.display="block",s=l,[4,n.text()]);case 2:return s.textContent=t.sent(),[3,4];case 3:a.classList.add("valid"),a.classList.remove("invalid"),l.style.display="none",t.label=4;case 4:return[2]}})})};var s=document.getElementById("provide-short-url"),o=document.getElementById("short-url"),i=document.getElementById("short-validity-message");function r(){return e(this,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return(e=o.value).length<3?(i.style.display="block",i.textContent=n.tooShort,o.classList.remove("valid"),o.classList.add("invalid"),[2]):/^[\w|\d|\-|_]*$/g.test(e)?[4,fetch("/free?short="+e)]:(i.style.display="block",i.textContent=n.unacceptableChars,o.classList.remove("valid"),o.classList.add("invalid"),[2]);case 1:return t.sent().ok?(i.style.display="none",o.classList.add("valid"),o.classList.remove("invalid"),[2]):(i.style.display="block",i.textContent=n.allreadyUsed,o.classList.remove("valid"),o.classList.add("invalid"),[2])}})})}i.style.display="none",o.oninput=r,s.onchange=function(e){var t=s.checked;o.disabled=!t,t?r():o.classList.remove("valid","invalid")}};
},{}]},{},["7QCb"], null)
//# sourceMappingURL=/static/page.38fc8143.js.map